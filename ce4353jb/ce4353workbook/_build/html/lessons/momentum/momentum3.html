
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surges &#8212; CE 4353 Design of Hydraulic Systems</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Bridge Piers" href="momentum4.html" />
    <link rel="prev" title="Rectangular Cross Sections" href="momentum2.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/river.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CE 4353 Design of Hydraulic Systems</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Hydraulic Systems Design/Open Channel Flow
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../computationaltools/computationaltools.html">
   Computational Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/topic1-1.html">
     Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/topic1-2.html">
     Excel/Libre Office Spreadsheets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/topic1-3.html">
     HEC-RAS River Analysis Software
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/1goodgraphs.html">
     Characteristics of a Good Graph
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/2makinggraphs.html">
     The
     <code class="docutils literal notranslate">
      <span class="pre">
       matplotlib
      </span>
     </code>
     package
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/3adddata.html">
     Adding Data to Plot Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/4loglogcharts.html">
     Logarithmic Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../computationaltools/5othercharts.html">
     Other Graph Types
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../basicprinciples/basicprinciples.html">
   Basic Principles
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../basicprinciples/topic2-1.html">
     Solution of Open Channel Problems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../basicprinciples/topic2-2.html">
     Definitions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../basicprinciples/topic2-3.html">
     Discharge Measurements
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../specificenergy/specificenergy1.html">
   Specific Energy
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../specificenergy/specificenergy2.html">
     Froude Number
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../weirs/weirs.html">
   Weirs
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="momentum1.html">
   Momentum
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="momentum2.html">
     Rectangular Cross Sections
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Surges
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="momentum4.html">
     Bridge Piers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="momentum5.html">
     Spur Dikes
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/lessons/momentum/momentum3.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Flessons/momentum/momentum3.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/lessons/momentum/momentum3.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definitions">
   Definitions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example">
   Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-3-2-from-book">
   Example 3.2 (from Book)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="surges">
<h1>Surges<a class="headerlink" href="#surges" title="Permalink to this headline">¶</a></h1>
<p>The sudden changes of flow in open channel results in the increase or decrease of flow depth is called
a “surge” in open channel. The phenomenon occurs when there is a breaching of dams from say an earthquake or regulating the overflow/underflow sluice gates, which results in positive and negative surges in
downstream river channel or in downstream tail channel of hydropower projects. The phenomenon
also occurs to some extent when there is flooding (unsteady flow) in channels and the hydrograph significantly varies as the rainfall inputs change. The flood wave speed generated during the positive or negative surges is called the celerity (wave velocity).</p>
<p>The analysis of surge waves matters in the design of canals, especially for the hydropower &amp; irrigation projects they play a vital role for the design of the canals. The design depth of the
flow in the canals during the surges must be able to accommodate the required discharge
accumulated during the propagation of the surges in downstream or upstream of the canals. Typically
the designer specifies enough free board in the canals to accommodate the additional height of the surges in addition to the normal depth of the canal flow.</p>
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<p>A sketch of typical surge wave is</p>
<p><img alt="" src="../../_images/surge-diagram.png" /></p>
<p>The positive or negative surge travels downstream or upstream depending on the situation.
The increase in flow depth would become the crest of the surges and the decrease in the flow depth
would become the trough of the surges.</p>
<p>The phenomenon is an unsteady flow situation, but in many practical instances can be analyzed as a steady flow situation by switching from an inertial fixed reference frame (Euler), to a moving reference frame (LaGrange) fixed on some part of the surge wave.  With the moving reference frame, the surge appears as a standing wave (like a hydraulic jump).</p>
<p><img alt="" src="../../_images/standingwave.png" /></p>
<p>The speed of the wave is related to the depth of flow and the velocity <span class="math notranslate nohighlight">\(c=\sqrt{gy} \pm V\)</span></p>
<p>A continunity across the surge (CV moving at the surge velocity) is</p>
<div class="math notranslate nohighlight">
\[ (V_1+V_S)A_1 = (V_2+V_S)A_2 \]</div>
<p>Solving for the surge velocity, (setting <span class="math notranslate nohighlight">\(V_2 =0\)</span>)</p>
<div class="math notranslate nohighlight">
\[ V_S = \frac{V_1 A_1}{A_2 - A_1} \]</div>
<p>The momentum balance for the same situation is</p>
<div class="math notranslate nohighlight">
\[ \frac{(V_1+V_S)^2}{g~A_1} = \frac{1}{2}\frac{A_2}{A_1}(1+\frac{A_2}{A_1}) \]</div>
<p>For a rectangular channel, the areas <span class="math notranslate nohighlight">\(A_i\)</span> can be replaced with the flow depths <span class="math notranslate nohighlight">\(y_i\)</span> to obtain equations identical to the book.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>A rectangular tailrace channel of hydropower project, <span class="math notranslate nohighlight">\(15~m\)</span> wide having bed slope <span class="math notranslate nohighlight">\(0.0002\)</span> and
manning roughness coefficient of <span class="math notranslate nohighlight">\(n= 0.017\)</span> conveys a steady discharge of <span class="math notranslate nohighlight">\(45~\frac{m^3}{s}\)</span> from the hydropower installation. A power increase results from a sudden increase in flow to the turbines to <span class="math notranslate nohighlight">\(100~\frac{m^3}{s}\)</span>.</p>
<p>Estimate the depth and celerity of the resulting surge wave in the tailrace channel.</p>
<p><img alt="" src="../../_images/powerchannel.png" /></p>
<p>In this example, <span class="math notranslate nohighlight">\(V_2\)</span> is associated with the <span class="math notranslate nohighlight">\(45~\frac{m^3}{s}\)</span> flow and <span class="math notranslate nohighlight">\(V_1\)</span> is associated with the <span class="math notranslate nohighlight">\(100~\frac{m^3}{s}\)</span></p>
<p>First apply Manning’s equation to the <span class="math notranslate nohighlight">\(Q_2\)</span> side of the tailrace, a safe bet being that before the change on output power that channel had already equilibrated to the flow and would be running at normal depth.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># </span>
<span class="n">Snot</span> <span class="o">=</span> <span class="mf">0.0002</span>
<span class="n">B</span> <span class="o">=</span> <span class="mf">15.0</span>
<span class="n">n</span> <span class="o">=</span> <span class="mf">0.017</span>
<span class="n">Qtarget</span> <span class="o">=</span> <span class="mf">45.0</span>

<span class="k">def</span> <span class="nf">Qm</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">S</span><span class="p">):</span>
    <span class="n">Qm</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">N</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">B</span><span class="o">*</span><span class="n">Y</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="n">B</span><span class="o">*</span><span class="n">Y</span><span class="o">/</span><span class="p">(</span><span class="n">B</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">Y</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">*</span><span class="n">S</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">Qm</span><span class="p">)</span>

<span class="c1">#yguess = 2.5  #trial-n-error</span>
<span class="c1">#yguess = 2.45  #trial-n-error</span>
<span class="c1">#yguess = 2.40  #trial-n-error</span>
<span class="c1">#yguess = 2.41  #trial-n-error</span>
<span class="c1">#yguess = 2.415  #trial-n-error</span>
<span class="n">yguess</span> <span class="o">=</span> <span class="mf">2.414</span>  <span class="c1">#trial-n-error</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Discharge :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">Qm</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">yguess</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">Snot</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; m^3/s&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Velocity : &quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">Qm</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">yguess</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">Snot</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">B</span><span class="o">*</span><span class="n">yguess</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; m/s&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Discharge : 45.005  m^3/s
Velocity :  1.243  m/s
</pre></div>
</div>
</div>
</div>
<p>So now we have the downstream depth value and velocity</p>
<p>Apply equation 3.16 in the book (or the above equations for rectangular channel).  Notice the sign change because relative velocities on upstream side appear to add to the moving observer and subtract on the downstream side (this is a negative surge)</p>
<div class="math notranslate nohighlight">
\[ (V_1+V_S)(y_1*15.0) = (1.243+V_S)(2.414*15.0) \]</div>
<p>Now substitute the velocity representation</p>
<div class="math notranslate nohighlight">
\[ (\frac{100}{y_1*15}+V_S)(y_1*15.0) = (1.243+V_S)(2.414*15.0) \]</div>
<p>We can solve for <span class="math notranslate nohighlight">\(V_S\)</span></p>
<div class="math notranslate nohighlight">
\[ V_S = \frac{(\frac{100}{y_1*15}(y_1*15) - 1.243*2.414*15)}{1.243*2.414*15 - (y_1*15)} =  \]</div>
<p>So thats one equation, two unknowns - next use momentum in the same way.  First momentum for the (moving) CV.</p>
<div class="math notranslate nohighlight">
\[  (\rho~g~ \frac{1}{2}~y^2_1 B) + \rho Q~V_1 = (\rho~g~ \frac{1}{2}~y^2_2 B) + \rho Q~V_2\]</div>
<p>Next substitute known values</p>
<div class="math notranslate nohighlight">
\[  (\rho~g~ \frac{15}{2}~y^2_1) + \rho~100~(\frac{100}{y_1*15}+V_S) = (\rho~g~ \frac{15}{2}~(2.414)^2) + \rho~ 45*(1.243+V_S)\]</div>
<p>Divide by specific weight</p>
<div class="math notranslate nohighlight">
\[  (\frac{15}{2}~y^2_1) + \frac{100}{g}~(\frac{100}{y_1*15}+V_S) = (\frac{15}{2}~(2.414)^2) + \frac{ 45}{g}*(1.243+V_S)\]</div>
<p>Now either solve the two simultaneously, or substitute <span class="math notranslate nohighlight">\(V_S\)</span> into momentum.</p>
<p>A trial-and-error approach is:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Guess Vs each equation, find the y values.  Stop when all satisfied.</span>

<span class="k">def</span> <span class="nf">VS</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">):</span>
    <span class="n">VS</span> <span class="o">=</span> <span class="p">(</span><span class="n">V1</span><span class="o">*</span><span class="n">y1</span><span class="o">-</span><span class="n">V2</span><span class="o">*</span><span class="n">y2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">VS</span><span class="p">)</span>

<span class="n">Q1</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">Q2</span> <span class="o">=</span> <span class="mi">45</span>

<span class="n">y1</span> <span class="o">=</span> <span class="mf">2.945</span> <span class="c1">#&lt;&lt;&lt;&lt; Guess This Value</span>
<span class="n">y2</span> <span class="o">=</span> <span class="mf">2.414</span>
<span class="n">B</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">V1</span> <span class="o">=</span> <span class="n">Q1</span><span class="o">/</span><span class="p">(</span><span class="n">y1</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
<span class="n">V2</span> <span class="o">=</span> <span class="n">Q2</span><span class="o">/</span><span class="p">(</span><span class="n">y2</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;y1 :&quot;</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="s2">&quot; y2 :&quot;</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;V1 :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">V1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; V2 :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">V2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="n">Vs</span> <span class="o">=</span> <span class="n">VS</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Wave speed :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">Vs</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; m/s&quot;</span><span class="p">)</span> <span class="c1"># &lt;&lt;&lt;&lt; Get this value</span>

<span class="k">def</span> <span class="nf">C1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">VS</span><span class="p">,</span><span class="n">B</span><span class="p">):</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="p">(</span><span class="n">V1</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y1</span><span class="o">*</span><span class="n">B</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">V2</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y2</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">C1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continunity Error :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">C1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">Vs</span><span class="p">,</span><span class="n">B</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">M1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">VS</span><span class="p">,</span><span class="n">Q1</span><span class="p">,</span><span class="n">Q2</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">g</span><span class="p">):</span>
    <span class="n">M1</span> <span class="o">=</span> <span class="p">(</span><span class="n">B</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">Q1</span><span class="o">/</span><span class="n">g</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">V1</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span> <span class="o">-</span> <span class="p">((</span><span class="n">B</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">Q2</span><span class="o">/</span><span class="n">g</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">V2</span><span class="o">+</span><span class="n">VS</span><span class="p">))</span>
    <span class="k">return</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Momentum Error :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">M1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">Vs</span><span class="p">,</span><span class="n">Q1</span><span class="p">,</span><span class="n">Q2</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">g</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>y1 : 2.945  y2 : 2.414
V1 : 2.264  V2 : 1.243
Wave speed : -6.905  m/s
Continunity Error : 0.0
Momentum Error : 0.003
</pre></div>
</div>
</div>
</div>
<p>So for the case depicted the wave speed is <span class="math notranslate nohighlight">\(-6 m/s\)</span> (a negative surge), and the upstream flow depth is <span class="math notranslate nohighlight">\(2.95~m\)</span> so if this is a typical power change, we would want the tail race to have the ability to convey the flow without overtopping.</p>
</div>
<div class="section" id="example-3-2-from-book">
<h2>Example 3.2 (from Book)<a class="headerlink" href="#example-3-2-from-book" title="Permalink to this headline">¶</a></h2>
<p>Steady flow in a rectangular channel with velocity <span class="math notranslate nohighlight">\(1 m/s\)</span> and depth <span class="math notranslate nohighlight">\(3.0 m\)</span> is stopped suddenly by a sluice gate (or landslide!) closure.  What are the height and speed of the upstream surge?</p>
<p>Here we just reuse code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">VS</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">):</span>
    <span class="n">VS</span> <span class="o">=</span> <span class="p">(</span><span class="n">V1</span><span class="o">*</span><span class="n">y1</span><span class="o">-</span><span class="n">V2</span><span class="o">*</span><span class="n">y2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">VS</span><span class="p">)</span>

<span class="n">y1</span> <span class="o">=</span> <span class="mf">3.0</span> 
<span class="n">y2</span> <span class="o">=</span> <span class="mf">3.578</span> <span class="c1"># &lt;&lt;&lt;&lt; Guess this value</span>
<span class="n">B</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Q1</span> <span class="o">=</span> <span class="n">y1</span><span class="o">*</span><span class="n">B</span>
<span class="n">Q2</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># &lt;&lt;&lt; Given</span>
<span class="n">V1</span> <span class="o">=</span> <span class="n">Q1</span><span class="o">/</span><span class="p">(</span><span class="n">y1</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
<span class="n">V2</span> <span class="o">=</span> <span class="n">Q2</span><span class="o">/</span><span class="p">(</span><span class="n">y2</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;y1 :&quot;</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="s2">&quot; y2 :&quot;</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;V1 :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">V1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; V2 :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">V2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="n">Vs</span> <span class="o">=</span> <span class="n">VS</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Wave speed :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">Vs</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&quot; m/s&quot;</span><span class="p">)</span> <span class="c1"># &lt;&lt;&lt;&lt; Get this value</span>

<span class="k">def</span> <span class="nf">C1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">VS</span><span class="p">,</span><span class="n">B</span><span class="p">):</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="p">(</span><span class="n">V1</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y1</span><span class="o">*</span><span class="n">B</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">V2</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y2</span><span class="o">*</span><span class="n">B</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="n">C1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continunity Error :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">C1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">Vs</span><span class="p">,</span><span class="n">B</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">M1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">VS</span><span class="p">,</span><span class="n">Q1</span><span class="p">,</span><span class="n">Q2</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">g</span><span class="p">):</span>
    <span class="n">M1</span> <span class="o">=</span> <span class="p">(</span><span class="n">B</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">Q1</span><span class="o">/</span><span class="n">g</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">V1</span><span class="o">+</span><span class="n">VS</span><span class="p">)</span> <span class="o">-</span> <span class="p">((</span><span class="n">B</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">y2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">Q2</span><span class="o">/</span><span class="n">g</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">V2</span><span class="o">+</span><span class="n">VS</span><span class="p">))</span>
    <span class="k">return</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Momentum Error :&quot;</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">M1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">Vs</span><span class="p">,</span><span class="n">Q1</span><span class="p">,</span><span class="n">Q2</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">g</span><span class="p">),</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>y1 : 3.0  y2 : 3.578
V1 : 1.0  V2 : 0.0
Wave speed : 5.19  m/s
Continunity Error : 0.0
Momentum Error : -0.008
</pre></div>
</div>
</div>
</div>
<p>The answer agrees with the values in the textbook!</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lessons/momentum"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="momentum2.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Rectangular Cross Sections</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="momentum4.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Bridge Piers</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Theodore G. Cleveland (the JupyterBook parts)<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>